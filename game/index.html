<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>THE GAMEY GAME</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <ol>
      <li><button onclick="startGame(3)">battle,level 1</button></li>
      <li><button onclick="startGame(30)">battle,level 2</button></li>
      <li><button onclick="startGame(300)">battle,level 3</button></li>
      <li><button onclick="startGame(3000)">battle,level 4</button></li>
      <li><button onclick="startGame(30000)">battle,level 5</button></li>
      <li><button onclick="startGame(300000)">battle,level 6</button></li>
    </ol>
    <button onclick="askThem()">attack</button>
    <div id="page"></div>
    <div id="error"></div>
    <div id="smart"></div>

    <div class="container">
      <div id="1" class="left-side">
        <img id="1to2" src="wisardgoodguyuse.png" alt="" style="width: 200px; height: 170px" />
      </div>
      <div id="2" class="right-side">
        <img id="2to2" src="boss1use.png" alt="" style="width: 200px; height: 150px" />
      </div>
    </div>
    <a href="/">home</a>
    <style>
      .container {
        display: flex;
      }

      .left-side,
      .right-side {
        width: 100%;
        padding: 10px;
        width: 250px;
        height: 250px;
        border-radius: 50%;
        background-color: #ffffff;
        display: flex;
        justify-content: center;
        align-items: center;
        transition: background-color 625ms ease-in-out;
      }
    </style>
    <script>
      let hp;
      let the_math_question;
      let the_math_answer;
      let the_answer;
      let random_index;

      let sorry = "";
      let sorry_status = "";
      const circlediv1 = document.getElementById("1to2");
      const circlediv2 = document.getElementById("2to2");
      const circlediv11 = document.getElementById(1);
      const circlediv22 = document.getElementById(2);
      const question_array = [
        "62 - 54 =",
        "35 + 47 =",
        "75 + 34 =",
        "42 - 32 =",
        "25 / 5 =",
        "66 / 6 =",
        "12 * 20 =",
        "20 * 50 =",
      ];
      const answer_array = ["8", "82", "109", "10", "5", "11", "240", "1000"];

      const where_to_print = document.getElementById("page");
      const smart = document.getElementById("smart");
      let yhp = 10;
      let yhpOutput = document.createElement("p");
      yhpOutput.innerHTML = "yourHp =" + yhp;
      smart.appendChild(yhpOutput);
      const full_hp = document.createElement("p");
      where_to_print.appendChild(full_hp);

      const where_to_print_error = document.getElementById("error");

      function startGame(HPsetter) {
        hp = HPsetter;
        full_hp.innerHTML = "enemyHP = " + hp;
      }
      function askThem() {
        random_index = Math.floor(Math.random() * 8);
        the_math_question = question_array[random_index];
        the_answer = window.prompt(the_math_question);
        checkTheAnswer();
      }
      function checkTheAnswer() {
        the_math_answer = answer_array[random_index];
        if (the_answer == the_math_answer) {
          hp = hp - 10;
          full_hp.innerHTML = "enemyHP = " + hp;
          sorry.innerHTML = "";
          GoleShootHit();
          if (sorry_status == "yes") {
            where_to_print_error.innerHTML = "";
            sorry_status = "no";
          }
          if (hp < 1) {
            document.write("you win refresh to go again");
          }
        } else {
          sorry = document.createTextNode(
            "Sorry, that was the wrong answer. The correct answer was: " + the_math_answer + "\n"
          );
          yhp = yhp - 1;
          yhpOutput.innerHTML = "yourHp =" + yhp;
          GoleShootMiss();
          where_to_print_error.appendChild(sorry);
          sorry_status = "yes";
          if (yhp < 1) {
            document.write("you lose refresh to try again.");
          }
        }
      }
      function GoleShootHit() {
        if (circlediv1.src.endsWith("wisardgoodguyuse.png")) {
          circlediv1.src = "wizardgoodguyusecostume2.png";
        }
        if (circlediv1.src.endsWith("wizardgoodguyusecostume2.png")) {
          setTimeout(function () {
            circlediv1.src = "wisardgoodguyuse.png";
          }, 1000);
        }
        circlediv22.style.backgroundColor = "red";
        setTimeout(function () {
          circlediv22.style.backgroundColor = "white";
        }, 1000);
      }
      function GoleShootMiss() {
        circlediv2.src = "boss1usecostume2.png";
        setTimeout(function () {
          circlediv2.src = "boss1usecostume3.png";
        }, 1000);
        setTimeout(function () {
          circlediv2.src = "boss1use.png";
        }, 2000);
        circlediv11.style.backgroundColor = "red";
        setTimeout(function () {
          circlediv11.style.backgroundColor = "white";
        }, 1000);
      }
    </script>
  </body>
</html>
